{"version":3,"sources":["webpack:///./js/apiService.js","webpack:///./js/app.js","webpack:///./templates/images.hbs"],"names":["searchQuery","page","fetch","then","res","json","console","log","basicLightbox","searchInputRef","document","querySelector","galleryRef","loadMoreRef","addEventListener","debounce","value","length","innerHTML","classList","add","apiService","data","markup","imagesTpl","hits","totalHits","remove","event","scrollPos","window","scrollY","btn","currentTarget","disabled","insertAdjacentHTML","scrollTo","top","left","behavior","target","tagName","src","show","Handlebars","module","exports","template","container","depth0","helpers","partials","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop"],"mappings":"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","file":"main.838d96046728bc083dbd.js","sourcesContent":["const API_KEY = '18593709-c9a0e412bd2ad0b6230bdc728';\r\n\r\nconst fetchImages = function (searchQuery, page) {\r\n  return fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=${API_KEY}`).then(res => res.json());\r\n}\r\n\r\nexport default {\r\n  fetchImages\r\n}","import debounce from 'lodash.debounce';\r\nimport * as basicLightbox from 'basiclightbox';\r\nimport 'basiclightbox/dist/basicLightbox.min.css';\r\nconsole.log(basicLightbox);\r\n\r\n\r\nimport apiService from './apiService';\r\nimport imagesTpl from '../templates/images.hbs';\r\n\r\nconst searchInputRef = document.querySelector('input[name=query]');\r\nconst galleryRef = document.querySelector('.gallery');\r\nconst loadMoreRef = document.querySelector('.load-more');\r\n\r\nlet page = 1;\r\n\r\nsearchInputRef.addEventListener('input', debounce(searchInputHandler, 500));\r\nloadMoreRef.addEventListener('click', loadMoreHandler);\r\ngalleryRef.addEventListener('click', galleryHandler);\r\n\r\nfunction searchInputHandler() {\r\n  if (searchInputRef.value.length === 0) {\r\n    galleryRef.innerHTML = '';\r\n    loadMoreRef.classList.add('hide');\r\n    return;\r\n  }\r\n\r\n  apiService.fetchImages(searchInputRef.value, page).then(data => {\r\n    const markup = imagesTpl(data.hits);\r\n    galleryRef.innerHTML = markup;\r\n\r\n    if (data.totalHits > 12) {\r\n      loadMoreRef.classList.remove('hide');\r\n    }\r\n\r\n    console.log(data);\r\n  });\r\n\r\n}\r\n\r\nfunction loadMoreHandler(event) {\r\n  const scrollPos =  window.scrollY;\r\n  const btn = event.currentTarget;\r\n  btn.disabled = true;\r\n  page += 1;\r\n  apiService.fetchImages(searchInputRef.value, page).then(data => {\r\n    \r\n    if (data.hits.length === 0) {\r\n      loadMoreRef.classList.add('hide');\r\n    } else {\r\n      const markup = imagesTpl(data.hits);\r\n      galleryRef.insertAdjacentHTML('beforeend', markup);\r\n      window.scrollTo({\r\n        top: scrollPos,\r\n        left: 0,\r\n        behavior: 'smooth'\r\n      });\r\n    }\r\n    console.log(data);\r\n    btn.disabled = false;\r\n  });\r\n}\r\n\r\nfunction galleryHandler(event) {\r\n  // console.log(basicLightbox);\r\n  if (event.target.tagName === \"IMG\") {\r\n    const instance = basicLightbox.create(`<img src=\"${event.target.src}\" width=\"800\" height=\"600\">`).show();\r\n    instance.show();\r\n\r\n  }\r\n}","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <li>\\r\\n    <div class=\\\"photo-card\\\">\\r\\n      <img src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \"\\\" data-large=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"tags\") : depth0), depth0))\n    + \"\\\" />\\r\\n\\r\\n      <div class=\\\"stats\\\">\\r\\n        <p class=\\\"stats-item\\\">\\r\\n          <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n          \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n          <i class=\\\"material-icons\\\">visibility</i>\\r\\n          \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"views\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n          <i class=\\\"material-icons\\\">comment</i>\\r\\n          \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"comments\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n          <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n          \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n      </div>\\r\\n    </div>\\r\\n  </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}